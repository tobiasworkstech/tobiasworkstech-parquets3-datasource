/* [create-plugin] version: 6.6.0 */
/* [create-plugin] plugin: tobiasworkstech-parquets3-datasource@1.0.0 */
define(["@grafana/ui","module","@grafana/runtime","@grafana/data","react"],(e,t,r,n,o)=>(()=>{"use strict";var a={7(t){t.exports=e},308(e){e.exports=t},531(e){e.exports=r},781(e){e.exports=n},959(e){e.exports=o}},c={};function l(e){var t=c[e];if(void 0!==t)return t.exports;var r=c[e]={exports:{}};return a[e](r,r.exports,l),r.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="public/plugins/tobiasworkstech-parquets3-datasource/";var u={};l.r(u),l.d(u,{plugin:()=>S});var i=l(308),s=l.n(i);l.p=s()&&s().uri?s().uri.slice(0,s().uri.lastIndexOf("/")+1):"public/plugins/tobiasworkstech-parquets3-datasource/";var p=l(781),b=l(531);const y={path:""};function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}class d extends b.DataSourceWithBackend{getDefaultQuery(e){return y}applyTemplateVariables(e,t){return O(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){f(e,t,r[t])})}return e}({},e),{path:(0,b.getTemplateSrv)().replace(e.path,t)})}filterQuery(e){return!!e.path}constructor(e){super(e)}}var g=l(959),h=l.n(g),j=l(7);function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){m(e,t,r[t])})}return e}function v(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}const S=new p.DataSourcePlugin(d).setConfigEditor(function(e){const{onOptionsChange:t,options:r}=e,{jsonData:n,secureJsonFields:o,secureJsonData:a}=r;return h().createElement(h().Fragment,null,h().createElement(j.InlineField,{label:"Region",labelWidth:14},h().createElement(j.Input,{onChange:e=>{t(v(P({},r),{jsonData:v(P({},n),{region:e.target.value})}))},value:n.region||"",placeholder:"us-east-1",width:40})),h().createElement(j.InlineField,{label:"Bucket",labelWidth:14},h().createElement(j.Input,{onChange:e=>{t(v(P({},r),{jsonData:v(P({},n),{bucket:e.target.value})}))},value:n.bucket||"",placeholder:"my-parquet-bucket",width:40})),h().createElement(j.InlineField,{label:"Endpoint",labelWidth:14,tooltip:"Custom S3 endpoint (e.g. for Minio)"},h().createElement(j.Input,{onChange:e=>{t(v(P({},r),{jsonData:v(P({},n),{endpoint:e.target.value})}))},value:n.endpoint||"",placeholder:"http://minio:9000",width:40})),h().createElement(j.InlineField,{label:"Access Key",labelWidth:14},h().createElement(j.SecretInput,{isConfigured:o.accessKey,value:(null==a?void 0:a.accessKey)||"",placeholder:"AWS Access Key",width:40,onReset:()=>{t(v(P({},r),{secureJsonFields:v(P({},r.secureJsonFields),{accessKey:!1}),secureJsonData:v(P({},r.secureJsonData),{accessKey:""})}))},onChange:e=>{t(v(P({},r),{secureJsonData:v(P({},a),{accessKey:e.target.value})}))}})),h().createElement(j.InlineField,{label:"Secret Key",labelWidth:14},h().createElement(j.SecretInput,{isConfigured:o.secretKey,value:(null==a?void 0:a.secretKey)||"",placeholder:"AWS Secret Key",width:40,onReset:()=>{t(v(P({},r),{secureJsonFields:v(P({},r.secureJsonFields),{secretKey:!1}),secureJsonData:v(P({},r.secureJsonData),{secretKey:""})}))},onChange:e=>{t(v(P({},r),{secureJsonData:v(P({},a),{secretKey:e.target.value})}))}})))}).setQueryEditor(function({query:e,onChange:t,onRunQuery:r}){const{path:n}=e;return h().createElement(j.Stack,{gap:0},h().createElement(j.InlineField,{label:"Parquet File Path",labelWidth:20,tooltip:"Path to the .parquet file within the bucket"},h().createElement(j.Input,{onChange:r=>{t(D(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){w(e,t,r[t])})}return e}({},e),{path:r.target.value}))},value:n||"",placeholder:"path/to/data.parquet",width:60,onBlur:r})))});return u})());
//# sourceMappingURL=module.js.map